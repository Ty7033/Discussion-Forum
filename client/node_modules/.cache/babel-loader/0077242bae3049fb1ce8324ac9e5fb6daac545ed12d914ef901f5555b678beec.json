{"ast":null,"code":"// import '../App.js';\n// import React from 'react';\n// import '../stylesheets/App.css';\n// import axios from 'axios';\n\n// class Admin extends React.Component{\n//   render(){\n//     console.log(\"in render admin\");\n//     const rows = [];\n//     const currUser = this.props.user;\n//     let users = this.props.users; //need usersss\n//     users.forEach((user) => {\n//       console.log(user);\n//       rows.push(\n//         <UserRow user={user} key={user._id} handleAdminState={this.props.handleAdminState} handleCurrUser={this.props.handleCurrUser} updateUserType={this.props.updateUserType}\n//         updatePage = {this.props.updatePage} questions={this.props.questions} answers={this.props.answers} updateUsers={this.props.updateUsers}/>\n//       );\n//     });\n//     let uinfo = \"Admin \" + currUser.username + \" has been a member for \" + this.props.handle(currUser.memberTime) +  \", Reputation: \" + currUser.rep;\n//     return(\n//       <div>\n//       <div className=\"main-table\" id=\"all_questions\">\n//       <table id=\"top_table\">\n//         <tbody>\n//           <tr id=\"top_row\">\n//           <td id=\"first_row\">\n//             <div id=\"top\">\n//               <h3 id=\"u_info\">{uinfo}</h3>\n//             </div>\n//               <p id=\"q_head\">All Users</p>\n//             </td>\n//           </tr>\n//           <tr id=\"next\">\n//             <td id=\"next_row\">\n//               <h5 id=\"question_count\">{users.length > 1 ? users.length + \" Users\": users.length + \" User\"}</h5>\n//             </td>\n//           </tr>\n//         </tbody>\n//       </table>\n//       {rows}\n//       </div>\n//       <div>\n//       {/* {this.props.questions.length > 5 && (\n//           <div id=\"buttom_buttons\" className= \"static\">\n//               <button type=\"button\" id=\"prev_button\" onClick={() => this.handlePrev()}>Prev</button>\n//               <button type=\"button\" id=\"next_button\" onClick={() => this.handleNext()}>Next</button>\n//           </div>\n//       )} */}\n//       </div>\n//       </div>\n//     )\n//   }\n// }\n\n// class UserRow extends React.Component{\n//   constructor(props){\n//     super(props);\n//     this.deleteUser = this.deleteUser.bind(this);\n//     this.updatePopup = this.updatePopup.bind(this);\n//     this.state={triggerPopup:false}\n//   }\n//   goToUser(u){\n//     this.props.updatePage(\"profile_page\");\n//     this.props.updateUserType(\"loggedin\"); //check this logic over. In questiontable for profile page do not care about usertype(only used for differentiating between guest not differentiating between logged in and admin) since adminstate is set to true.\n//     this.props.handleAdminState(true);\n//     this.props.handleCurrUser(u);\n//   }\n//   updatePopup(val){\n//     this.setState({triggerPopup:val});\n//   }\n//   getQuestionsByUser(u){\n//     let allquest = this.props.questions;\n//     console.log(allquest);\n//     let questsToDelete = [];\n//     for(let i=0;i<allquest.length;i++){\n//       if(allquest[i].asked_by._id === u._id){\n//         questsToDelete.push(allquest[i]);\n//         console.log(\"question to delete: \" + allquest[i].title);\n//       }\n//     }\n//     return questsToDelete;\n//   }\n//   getAnswersByUser(u){\n//     let allAns = this.props.answers;\n//     console.log(allAns);\n//     let ansToDelete = [];\n//     for(let i=0;i<allAns.length;i++){\n//       if(allAns[i].ans_by._id === u._id){\n//         ansToDelete.push(allAns[i]);\n//         console.log(\"answer to delete: \" + allAns[i].text);\n//       }\n//     }\n//     return ansToDelete;\n//   }\n//   deleteUser=async(u)=>{\n//     console.log(\"in delete user \" + u.username);\n//     let qsToDelete = this.getQuestionsByUser(u);\n//     await axios.post(`http://localhost:8000/deleteUserQuestions`, qsToDelete).then(()=>{\n//         console.log(\"deleted questions and everything with it!\");\n//         let ansToDelete = this.getAnswersByUser(u);\n//         axios.post(`http://localhost:8000/deleteUserAnswers`, ansToDelete).then(()=>{\n//           console.log(\"deleted all answers user made\");\n//         }).catch((err)=>{console.log(err)})\n//         axios.post(`http://localhost:8000/deleteUser`, this.props.user).then(()=>{\n//           console.log(\"deleted user!\");\n//           this.props.updateUsers();\n//         }).catch((err)=>{console.log(err)})\n//     }).catch((err)=>{console.log(err)})\n//   }\n//   render(){\n//     const user=this.props.user;\n//     console.log(\"in UserRow \" + user);\n//     return(\n//       <table className=\"innertable\" id=\"post_table\">\n//         <tbody>\n//           <tr className=\"table_r1\">\n//             <td className=\"question\"><a href= \"#user\" onClick={()=>this.goToUser(user)}>{user.username}</a><br></br>\n//             <button type=\"button\" onClick={()=>this.updatePopup(true)}>Delete User</button>\n//             {this.state.triggerPopup == true && (\n//               <Popup deleteUser={this.deleteUser} updatePage={this.props.updatePage} user={user}/>\n//               )}\n//             </td>\n//           </tr>\n//         </tbody>\n//       </table>\n//     );\n//   }\n// }\n\n// class Popup extends React.Component{\n//  render(){\n//   console.log(\"in delete popup check\");\n//   return(\n//     <div>\n//       <p>Are you sure you want to delete?</p>\n//       <button type=\"button\" onClick={()=>this.props.deleteUser(this.props.user)}>Yes</button>\n//       <button type=\"button\" onClick={()=>this.props.updatePage(\"admin\")}>No</button>\n//     </div>\n//   )\n//  }\n// }\n\n// export default Admin;","map":{"version":3,"names":[],"sources":["/Users/tracyyip/Desktop/pa04-webwizards/client/src/components/Admin.js"],"sourcesContent":["// import '../App.js';\n// import React from 'react';\n// import '../stylesheets/App.css';\n// import axios from 'axios';\n\n// class Admin extends React.Component{\n//   render(){\n//     console.log(\"in render admin\");\n//     const rows = [];\n//     const currUser = this.props.user;\n//     let users = this.props.users; //need usersss\n//     users.forEach((user) => {\n//       console.log(user);\n//       rows.push(\n//         <UserRow user={user} key={user._id} handleAdminState={this.props.handleAdminState} handleCurrUser={this.props.handleCurrUser} updateUserType={this.props.updateUserType}\n//         updatePage = {this.props.updatePage} questions={this.props.questions} answers={this.props.answers} updateUsers={this.props.updateUsers}/>\n//       );\n//     });\n//     let uinfo = \"Admin \" + currUser.username + \" has been a member for \" + this.props.handle(currUser.memberTime) +  \", Reputation: \" + currUser.rep;\n//     return(\n//       <div>\n//       <div className=\"main-table\" id=\"all_questions\">\n//       <table id=\"top_table\">\n//         <tbody>\n//           <tr id=\"top_row\">\n//           <td id=\"first_row\">\n//             <div id=\"top\">\n//               <h3 id=\"u_info\">{uinfo}</h3>\n//             </div>\n//               <p id=\"q_head\">All Users</p>\n//             </td>\n//           </tr>\n//           <tr id=\"next\">\n//             <td id=\"next_row\">\n//               <h5 id=\"question_count\">{users.length > 1 ? users.length + \" Users\": users.length + \" User\"}</h5>\n//             </td>\n//           </tr>\n//         </tbody>\n//       </table>\n//       {rows}\n//       </div>\n//       <div>\n//       {/* {this.props.questions.length > 5 && (\n//           <div id=\"buttom_buttons\" className= \"static\">\n//               <button type=\"button\" id=\"prev_button\" onClick={() => this.handlePrev()}>Prev</button>\n//               <button type=\"button\" id=\"next_button\" onClick={() => this.handleNext()}>Next</button>\n//           </div>\n//       )} */}\n//       </div>\n//       </div>\n//     )\n//   }\n// }\n\n// class UserRow extends React.Component{\n//   constructor(props){\n//     super(props);\n//     this.deleteUser = this.deleteUser.bind(this);\n//     this.updatePopup = this.updatePopup.bind(this);\n//     this.state={triggerPopup:false}\n//   }\n//   goToUser(u){\n//     this.props.updatePage(\"profile_page\");\n//     this.props.updateUserType(\"loggedin\"); //check this logic over. In questiontable for profile page do not care about usertype(only used for differentiating between guest not differentiating between logged in and admin) since adminstate is set to true.\n//     this.props.handleAdminState(true);\n//     this.props.handleCurrUser(u);\n//   }\n//   updatePopup(val){\n//     this.setState({triggerPopup:val});\n//   }\n//   getQuestionsByUser(u){\n//     let allquest = this.props.questions;\n//     console.log(allquest);\n//     let questsToDelete = [];\n//     for(let i=0;i<allquest.length;i++){\n//       if(allquest[i].asked_by._id === u._id){\n//         questsToDelete.push(allquest[i]);\n//         console.log(\"question to delete: \" + allquest[i].title);\n//       }\n//     }\n//     return questsToDelete;\n//   }\n//   getAnswersByUser(u){\n//     let allAns = this.props.answers;\n//     console.log(allAns);\n//     let ansToDelete = [];\n//     for(let i=0;i<allAns.length;i++){\n//       if(allAns[i].ans_by._id === u._id){\n//         ansToDelete.push(allAns[i]);\n//         console.log(\"answer to delete: \" + allAns[i].text);\n//       }\n//     }\n//     return ansToDelete;\n//   }\n//   deleteUser=async(u)=>{\n//     console.log(\"in delete user \" + u.username);\n//     let qsToDelete = this.getQuestionsByUser(u);\n//     await axios.post(`http://localhost:8000/deleteUserQuestions`, qsToDelete).then(()=>{\n//         console.log(\"deleted questions and everything with it!\");\n//         let ansToDelete = this.getAnswersByUser(u);\n//         axios.post(`http://localhost:8000/deleteUserAnswers`, ansToDelete).then(()=>{\n//           console.log(\"deleted all answers user made\");\n//         }).catch((err)=>{console.log(err)})\n//         axios.post(`http://localhost:8000/deleteUser`, this.props.user).then(()=>{\n//           console.log(\"deleted user!\");\n//           this.props.updateUsers();\n//         }).catch((err)=>{console.log(err)})\n//     }).catch((err)=>{console.log(err)})\n//   }\n//   render(){\n//     const user=this.props.user;\n//     console.log(\"in UserRow \" + user);\n//     return(\n//       <table className=\"innertable\" id=\"post_table\">\n//         <tbody>\n//           <tr className=\"table_r1\">\n//             <td className=\"question\"><a href= \"#user\" onClick={()=>this.goToUser(user)}>{user.username}</a><br></br>\n//             <button type=\"button\" onClick={()=>this.updatePopup(true)}>Delete User</button>\n//             {this.state.triggerPopup == true && (\n//               <Popup deleteUser={this.deleteUser} updatePage={this.props.updatePage} user={user}/>\n//               )}\n//             </td>\n//           </tr>\n//         </tbody>\n//       </table>\n//     );\n//   }\n// }\n\n// class Popup extends React.Component{\n//  render(){\n//   console.log(\"in delete popup check\");\n//   return(\n//     <div>\n//       <p>Are you sure you want to delete?</p>\n//       <button type=\"button\" onClick={()=>this.props.deleteUser(this.props.user)}>Yes</button>\n//       <button type=\"button\" onClick={()=>this.props.updatePage(\"admin\")}>No</button>\n//     </div>\n//   )\n//  }\n// }\n\n// export default Admin;"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}