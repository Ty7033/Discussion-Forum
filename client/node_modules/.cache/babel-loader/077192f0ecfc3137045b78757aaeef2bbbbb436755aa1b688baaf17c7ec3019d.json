{"ast":null,"code":"var _jsxFileName = \"/Users/tracyyip/Desktop/pa04-webwizards/client/src/components/TagsPage.js\";\nimport '../App.js';\nimport React from 'react';\nimport '../stylesheets/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass TagsPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.total = 0;\n    this.q = this.props.quest.slice().sort(this.compareDates);\n    this.arr = [];\n    this.boxes = [];\n    this.filterQuestions = this.filterQuestions.bind(this);\n    this.createTags = this.createTags.bind(this);\n  }\n  compareDates(x, y) {\n    return new Date(x.ask_date_time) - new Date(y.ask_date_time);\n  }\n  render() {\n    console.log(\"checking quest \" + this.q);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"tags_page\",\n      className: \"tags_list\",\n      children: [this.setUpHeader(), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"tag_container\",\n        children: this.boxes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }, this);\n  }\n  setUpHeader() {\n    this.createTags();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"head_css\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.total + \" Tags\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"mid-ele\",\n        children: \"All Tags\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), this.props.userType != \"guest\" && /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"ab2\",\n        onClick: () => this.props.updatePage(\"question_form\"),\n        children: \"Ask Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  }\n  createTags() {\n    this.total = 0;\n    let Qs = this.q;\n    if (this.props.currPage === \"user_tags\") {\n      //only loop through questions user created b/c those are the tags user created also\n      Qs = [];\n      for (let i = 0; i < this.q.length; i++) {\n        if (this.q[i].asked_by.email === this.props.user.email) {\n          Qs.push(this.q[i]);\n        }\n      }\n    }\n    Qs.forEach(quest => {\n      console.log(quest);\n      quest.tags.forEach(tag => {\n        let tname = tag.name;\n        let tagCount = this.tagCount(tname);\n        this.total++;\n        if (!this.tagDupsCheck(tname, this.arr)) {\n          this.arr.push(tag);\n          this.boxes.push( /*#__PURE__*/_jsxDEV(TagBoxes, {\n            fil: this.filterQuestions,\n            tagname: tname,\n            count: tagCount\n          }, tag._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 37\n          }, this));\n        }\n      });\n    });\n  }\n  tagDupsCheck(input, tArrs) {\n    for (let k = 0; k < tArrs.length; k++) {\n      if (tArrs[k].name.toLowerCase() === input.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  }\n  tagCount(input) {\n    //input is a specific tag. count for specific tag\n    let count = 0; //because already one tag exist\n    for (let i = 0; i < this.q.length; i++) {\n      let found = this.props.searchTag(input, this.q[i]);\n      if (found) {\n        count++;\n      }\n    }\n    console.log(\"find matched tags\");\n    return count;\n  }\n  filterQuestions(input) {\n    console.log(\"came in here\");\n    let matched = [];\n    let questions = this.props.quest;\n    for (let i = 0; i < questions.length; i++) {\n      let found = this.props.isTag(input, questions[i]);\n      if (found) {\n        matched.push(questions[i]);\n      }\n    }\n    console.log(matched);\n    this.props.display(\"filterTags\", matched);\n  }\n}\nclass TagBoxes extends React.Component {\n  render() {\n    let currentCount = this.props.count;\n    let content = \"\";\n    if (currentCount > 1) {\n      content = currentCount + \" questions\";\n    } else {\n      content = currentCount + \" question\";\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxes\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"boxContent\",\n        href: \"#tag\",\n        onClick: () => this.props.fil(\"[\" + this.props.tagname + \"]\"),\n        children: this.props.tagname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default TagsPage;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","TagsPage","Component","constructor","props","total","q","quest","slice","sort","compareDates","arr","boxes","filterQuestions","bind","createTags","x","y","Date","ask_date_time","render","console","log","id","className","children","setUpHeader","fileName","_jsxFileName","lineNumber","columnNumber","userType","onClick","updatePage","Qs","currPage","i","length","asked_by","email","user","push","forEach","tags","tag","tname","name","tagCount","tagDupsCheck","TagBoxes","fil","tagname","count","_id","input","tArrs","k","toLowerCase","found","searchTag","matched","questions","isTag","display","currentCount","content","href"],"sources":["/Users/tracyyip/Desktop/pa04-webwizards/client/src/components/TagsPage.js"],"sourcesContent":["import '../App.js';\nimport React from 'react';\nimport '../stylesheets/App.css';\n\nclass TagsPage extends React.Component{\n    constructor(props)\n    {\n        super(props);\n        this.filterQuestions= this.filterQuestions.bind(this);\n        this.createTags= this.createTags.bind(this);\n    }\n    total = 0;\n    q = this.props.quest.slice().sort(this.compareDates);\n    arr=[];\n    boxes=[];\n    compareDates(x, y){\n        return new Date(x.ask_date_time) - new Date(y.ask_date_time);\n    }\n    render(){\n      console.log(\"checking quest \" + this.q);\n        return(\n        <div id=\"tags_page\" className=\"tags_list\">\n        {this.setUpHeader()}\n        <div id=\"tag_container\">\n            {this.boxes}\n        </div>\n      </div>\n        );\n    }\n    setUpHeader(){\n        this.createTags();\n        return (\n            <div id= \"head_css\">\n                <h1>{this.total + \" Tags\"}</h1>\n                <h1 id=\"mid-ele\">{\"All Tags\"}</h1>\n                {this.props.userType != \"guest\" && (\n                <button id=\"ab2\" onClick={()=>this.props.updatePage(\"question_form\")}>Ask Question</button>\n                )}\n            </div>\n        )\n    }\n    createTags(){\n        this.total=0;\n        let Qs = this.q;\n        if(this.props.currPage === \"user_tags\"){\n            //only loop through questions user created b/c those are the tags user created also\n            Qs=[];\n            for(let i=0;i<this.q.length;i++){\n                if(this.q[i].asked_by.email === this.props.user.email){\n                    Qs.push(this.q[i]);\n                }\n            }\n        }\n        Qs.forEach(quest => {\n            console.log(quest);\n            quest.tags.forEach(tag =>{\n                let tname = tag.name;\n                let tagCount = this.tagCount(tname);\n                this.total++;\n                if(!(this.tagDupsCheck(tname, this.arr))){\n                    this.arr.push(tag);\n                    this.boxes.push(<TagBoxes key = {tag._id} fil={this.filterQuestions} tagname= {tname} count={tagCount}/>);\n                }\n            })\n        });\n    }\n    tagDupsCheck(input, tArrs){\n        for(let k=0;k<tArrs.length;k++){\n          if(((tArrs[k].name).toLowerCase())===input.toLowerCase()){\n            return true;\n          }\n        }\n        return false;\n    }\n    tagCount(input){ //input is a specific tag. count for specific tag\n        let count = 0; //because already one tag exist\n        for(let i=0;i<this.q.length;i++){\n              let found = this.props.searchTag(input, this.q[i]);\n              if(found){\n               count++;\n              }\n        }\n        console.log(\"find matched tags\");\n        return count; \n      }\n      filterQuestions(input){\n        console.log(\"came in here\");\n        let matched = [];\n        let questions = this.props.quest;\n        for(let i=0;i<questions.length;i++){\n            let found = this.props.isTag(input,questions[i]);\n            if(found){\n                matched.push(questions[i]);\n            }\n        }\n        console.log(matched);\n        this.props.display(\"filterTags\", matched);\n    }\n}\nclass TagBoxes extends React.Component{\n    render(){\n        let currentCount = this.props.count;\n        let content=\"\"\n        if(currentCount > 1){\n            content= currentCount + \" questions\";\n        }\n        else{\n            content= currentCount + \" question\";\n        }\n        return(\n        <div className=\"boxes\">\n           <a className=\"boxContent\" href=\"#tag\" onClick={()=>this.props.fil(\"[\" + this.props.tagname + \"]\")}>{this.props.tagname}</a>\n           <p>{content}</p>\n        </div>\n     );}\n}\nexport default TagsPage;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}