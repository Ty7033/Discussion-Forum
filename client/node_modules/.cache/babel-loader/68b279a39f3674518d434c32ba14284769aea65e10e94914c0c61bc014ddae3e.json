{"ast":null,"code":"var _jsxFileName = \"/Users/tracyyip/Desktop/pa04-webwizards/client/src/components/Header.js\";\nimport '../App.js';\nimport React from 'react';\nimport '../stylesheets/App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Header extends React.Component {\n  render() {\n    console.log(\"answers \" + this.props.answers);\n    console.log(this.props.all_quest);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"header\",\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"f_header\",\n        children: \"Fake Stack Overflow\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n        setCurrPage: this.props.setCurrPage,\n        currPage: this.props.currPage,\n        updatePage: this.props.updatePage,\n        updateQuest: this.props.updateQuest,\n        quest: this.props.quest,\n        answers: this.props.answers,\n        searchTag: this.props.searchTag,\n        isTag: this.props.isTag,\n        stripTag: this.props.stripTag\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 11\n      }, this), this.props.currPage != \"welcome\" && /*#__PURE__*/_jsxDEV(LogoutBt, {\n        setCurrPage: this.props.setCurrPage,\n        currPage: this.props.currPage,\n        userType: this.props.userType,\n        updateUserType: this.props.updateUserType,\n        setErr: this.props.setErr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 11\n      }, this), this.props.userType != \"guest\" && this.props.currPage != \"welcome\" && this.props.currPage != \"register\" && this.props.currPage != \"login\" && /*#__PURE__*/_jsxDEV(ProfileBt, {\n        updateUser: this.props.updateUser,\n        user: this.props.user,\n        setCurrPage: this.props.setCurrPage,\n        currPage: this.props.currPage,\n        userType: this.props.userType,\n        updateUserType: this.props.updateUserType,\n        handleAdminState: this.props.handleAdminState,\n        adminState: this.props.adminState,\n        setErr: this.props.setErr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass ProfileBt extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleProfile = this.handleProfile.bind(this);\n  }\n  async handleProfile() {\n    console.log(\"you clicked on profile, your type is: \" + this.props.userType);\n    let x = await axios.get(`http://localhost:8000/users/${this.props.user.email}`);\n    this.props.updateUser(x.data);\n    if (this.props.userType === \"loggedin\") {\n      this.props.setCurrPage(\"user_questions\");\n    } else {\n      this.props.setCurrPage(\"list_users\");\n    }\n    if (this.props.adminState === true) {\n      //changes from viewing specific user back to all users if admin\n      this.props.updateUserType(\"admin\");\n      this.props.handleAdminState(false);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: \"profile_button\",\n      onClick: () => this.handleProfile(),\n      children: \"Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass LogoutBt extends React.Component {\n  handleLogout() {\n    axios.post('http://localhost:8000/logout').then(response => {\n      console.log(response.data);\n      this.props.updateUserType(\"guest\");\n      this.props.setCurrPage(\"welcome\");\n    }).catch(error => {\n      this.props.setErr('Unable to log out');\n    });\n  }\n  render() {\n    let title = \"Logout\";\n    if (this.props.currPage == \"register\" || this.props.currPage == \"login\" || this.props.userType == \"guest\") {\n      title = \"Welcome\";\n    }\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      id: \"logout_button\",\n      onClick: () => this.handleLogout(),\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass SearchBox extends React.Component {\n  // when searched box entered=> should update the state of the main table\n  constructor(props) {\n    super(props);\n    this.getQuestions = () => {\n      axios.get('http://localhost:8000/questions').then(response => {\n        console.log(response.data);\n        this.setState({\n          questions: response.data.slice().sort(compareDates)\n        });\n      }).catch(error => {\n        this.setState(\"Error fetching data\");\n      });\n    };\n    this.updateSearch = e => {\n      console.log(\"in update\");\n      console.log(e.target.value);\n      console.log(e.key);\n      if (e.key === \"Enter\") {\n        e.preventDefault();\n        console.log(\"in update\");\n        const searchString = e.target.value;\n        console.log(searchString);\n        this.search(searchString);\n      }\n      console.log(this.props.answers);\n      console.log(\"out update\");\n    };\n    this.updateList = l => {\n      this.props.updateQuest(\"search\", l);\n    };\n    this.search = input => {\n      const inputArray = input.split(\" \");\n      let q = this.props.quest;\n      console.log(q);\n      let matched = new Set();\n      for (let i = 0; i < inputArray.length; i++) {\n        for (let j = 0; j < q.length; j++) {\n          let found = this.props.isTag(inputArray[i], q[j]);\n          if (found) {\n            matched.add(q[j]);\n          } else if (inputArray[i].startsWith('[') && inputArray[i].endsWith(']')) {\n            console.log(\"came here\");\n          } else if (this.searchTitle(inputArray[i], q[j]) || this.searchText(inputArray[i], q[j])) {\n            matched.add(q[j]);\n          }\n          console.log(matched);\n        }\n      }\n      matched = [...matched];\n      console.log(matched);\n      this.updateList(matched);\n      this.getQuestions();\n    };\n    this.state = {\n      questions: this.props.quest\n    };\n    this.search = this.search.bind(this);\n    this.updateList = this.updateList.bind(this);\n    this.updateSearch = this.updateSearch.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n  componentDidMount() {\n    console.log(\"mounted\");\n    this.getQuestions();\n  }\n  getSubstring(inputWord) {\n    let subSet = new Set();\n    for (let a = 0; a < inputWord.length; a++) {\n      for (let k = 0; k < inputWord.length + 1; k++) {\n        if (inputWord.substring(a, k) !== \"\") {\n          subSet.add(inputWord.substring(a, k));\n        }\n      }\n    }\n    return subSet;\n  }\n  searchTitle(input, question) {\n    const qTitleArray = question.title.split(\" \");\n    for (let i = 0; i < qTitleArray.length; i++) {\n      let sEle = this.getSubstring(qTitleArray[i]);\n      let aEle = Array.from(sEle);\n      for (let j = 0; j < aEle.length; j++) {\n        if (aEle[j].toLowerCase() === input.toLowerCase()) {\n          return true;\n        }\n      }\n    }\n  }\n  searchText(input, question) {\n    const qTextArray = question.text.split(\" \");\n    for (let i = 0; i < qTextArray.length; i++) {\n      let sEle = this.getSubstring(qTextArray[i]);\n      let aEle = Array.from(sEle);\n      for (let j = 0; j < aEle.length; j++) {\n        if (aEle[j].toLowerCase() === input.toLowerCase()) {\n          return true;\n        }\n      }\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"searchbar\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"search\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"searchInput\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"search\",\n            placeholder: \"Search...\",\n            id: \"searchInput\",\n            onKeyDown: this.updateSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }, this);\n  }\n}\nfunction compareDates(x, y) {\n  return new Date(y.ask_date_time) - new Date(x.ask_date_time);\n}\nexport default Header;","map":{"version":3,"names":["React","axios","jsxDEV","_jsxDEV","Header","Component","render","console","log","props","answers","all_quest","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","SearchBox","setCurrPage","currPage","updatePage","updateQuest","quest","searchTag","isTag","stripTag","LogoutBt","userType","updateUserType","setErr","ProfileBt","updateUser","user","handleAdminState","adminState","constructor","handleProfile","bind","x","get","email","data","type","onClick","handleLogout","post","then","response","catch","error","title","getQuestions","setState","questions","slice","sort","compareDates","updateSearch","e","target","value","key","preventDefault","searchString","search","updateList","l","input","inputArray","split","q","matched","Set","i","length","j","found","add","startsWith","endsWith","searchTitle","searchText","state","componentDidMount","getSubstring","inputWord","subSet","a","k","substring","question","qTitleArray","sEle","aEle","Array","from","toLowerCase","qTextArray","text","htmlFor","placeholder","onKeyDown","y","Date","ask_date_time"],"sources":["/Users/tracyyip/Desktop/pa04-webwizards/client/src/components/Header.js"],"sourcesContent":["\nimport '../App.js';\nimport React from 'react';\nimport '../stylesheets/App.css';\nimport axios from 'axios';\n\nclass Header extends React.Component{\nrender(){\n  console.log(\"answers \" + this.props.answers);\n  console.log(this.props.all_quest)\n    return (\n      <div id=\"header\" className=\"header\">\n        <h1 id=\"f_header\">Fake Stack Overflow</h1>\n          <SearchBox setCurrPage={this.props.setCurrPage} currPage={this.props.currPage} updatePage={this.props.updatePage} updateQuest={this.props.updateQuest} quest = {this.props.quest} answers={this.props.answers} searchTag = {this.props.searchTag} isTag={this.props.isTag} stripTag = {this.props.stripTag} />\n          {this.props.currPage != \"welcome\" && (\n          <LogoutBt setCurrPage={this.props.setCurrPage} currPage={this.props.currPage} userType={this.props.userType} updateUserType={this.props.updateUserType} setErr ={this.props.setErr}/>\n          )}\n          {(this.props.userType!= \"guest\" && this.props.currPage != \"welcome\" && this.props.currPage != \"register\" && this.props.currPage != \"login\" ) &&  (\n          <ProfileBt updateUser={this.props.updateUser} user = {this.props.user} setCurrPage={this.props.setCurrPage} currPage={this.props.currPage} userType={this.props.userType} updateUserType={this.props.updateUserType} handleAdminState={this.props.handleAdminState} adminState={this.props.adminState} setErr ={this.props.setErr}/>\n          )}\n      </div>\n    );\n  }\n}\nclass ProfileBt extends React.Component{\n  constructor(props){\n    super(props)\n    this.handleProfile = this.handleProfile.bind(this);\n  }\n  async handleProfile(){\n    console.log(\"you clicked on profile, your type is: \" + this.props.userType);\n    let x = await axios.get(`http://localhost:8000/users/${this.props.user.email}`)\n    this.props.updateUser(x.data);\n    if(this.props.userType===\"loggedin\"){\n      this.props.setCurrPage(\"user_questions\");\n    }\n    else{\n      this.props.setCurrPage(\"list_users\"); \n    }\n    if(this.props.adminState===true){ //changes from viewing specific user back to all users if admin\n      this.props.updateUserType(\"admin\");\n      this.props.handleAdminState(false);\n    }\n  }\n  render(){\n    return(\n      <button type=\"button\" id=\"profile_button\" onClick={()=> this.handleProfile()}>Profile</button>\n  )}\n\n}\n\nclass LogoutBt extends React.Component{\n  handleLogout(){\n    axios.post('http://localhost:8000/logout')\n        .then(response => {\n            console.log(response.data);\n            this.props.updateUserType(\"guest\");\n            this.props.setCurrPage(\"welcome\");\n        })\n          .catch(error => {\n            this.props.setErr('Unable to log out');\n      });\n  }\n  render(){\n    let title = \"Logout\";\n    if (this.props.currPage==\"register\" || this.props.currPage ==\"login\" || this.props.userType == \"guest\"){\n        title= \"Welcome\"\n    }\n    return(\n      <button type=\"button\" id=\"logout_button\" onClick={()=> this.handleLogout()}>{title}</button>\n    )\n  }\n}\nclass SearchBox extends React.Component{ // when searched box entered=> should update the state of the main table\n  constructor(props){\n    super(props);\n    this.state={questions: this.props.quest};\n    this.search= this.search.bind(this);\n    this.updateList= this.updateList.bind(this);\n    this.updateSearch= this.updateSearch.bind(this);\n    this.getQuestions = this.getQuestions.bind(this);\n  }\n  componentDidMount(){\n    console.log(\"mounted\");\n    this.getQuestions();\n  }\n  getQuestions=()=>{\n    axios.get('http://localhost:8000/questions')\n    .then(response => {\n          console.log(response.data);\n          this.setState({ questions: response.data.slice().sort(compareDates) });\n    })\n    .catch(error => {\n         this.setState(\"Error fetching data\");\n    });\n  }\n  updateSearch = (e)=>{\n    console.log(\"in update\");\n    console.log(e.target.value);\n    console.log(e.key);\n    if(e.key ===\"Enter\"){\n      e.preventDefault();\n      console.log(\"in update\");\n      const searchString = e.target.value;\n      console.log(searchString);\n      this.search(searchString);\n    }\n    console.log(this.props.answers);\n    console.log(\"out update\");\n  }\n  updateList=(l)=>{\n      this.props.updateQuest(\"search\", l);\n  }\n  getSubstring(inputWord){\n    let subSet = new Set();\n    for(let a=0;a<inputWord.length;a++){\n      for(let k=0;k<inputWord.length+1;k++){\n        if(inputWord.substring(a,k)!==\"\"){\n          subSet.add(inputWord.substring(a,k));\n        }\n      }\n    }\n    return subSet;\n  }\n  searchTitle(input, question){ \n    const qTitleArray = question.title.split(\" \");\n    for(let i=0;i<qTitleArray.length;i++){\n      let sEle = this.getSubstring(qTitleArray[i]);\n      let aEle = Array.from(sEle);\n      for(let j=0;j<aEle.length;j++){\n        if(aEle[j].toLowerCase()===input.toLowerCase()){\n          return true;\n        }\n      }\n    }\n  }\n  searchText(input, question){\n    const qTextArray = question.text.split(\" \");\n    for(let i=0;i<qTextArray.length;i++){\n      let sEle = this.getSubstring(qTextArray[i]);\n      let aEle = Array.from(sEle);\n      for(let j=0;j<aEle.length;j++){\n        if(aEle[j].toLowerCase()===input.toLowerCase()){\n          return true;\n        }\n      }\n    }\n  }\n  search=(input)=>{\n    const inputArray = input.split(\" \");\n    let q = this.props.quest;\n    console.log(q);\n    let matched = new Set();\n    for(let i=0;i<inputArray.length;i++){\n      for(let j=0;j<q.length;j++){\n          let found = this.props.isTag(inputArray[i], q[j]);\n          if(found){\n            matched.add(q[j]);\n          }\n          else if (inputArray[i].startsWith('[') && inputArray[i].endsWith(']')){\n            console.log(\"came here\");\n          }\n          else if((this.searchTitle(inputArray[i],q[j])) || (this.searchText(inputArray[i],q[j]))){\n            matched.add(q[j]);\n          }\n          console.log(matched)\n      }\n    }\n    matched=[...matched];\n    console.log(matched);\n    this.updateList(matched);\n    this.getQuestions();\n  }\n  render(){\n    return(\n    <div id=\"searchbar\">\n    <form id=\"search\">\n      <label htmlFor=\"searchInput\">\n        <input type=\"search\" placeholder=\"Search...\" id=\"searchInput\" onKeyDown={this.updateSearch}></input>\n      </label>\n    </form>\n    </div>\n    );\n\n  }\n}\nfunction compareDates(x, y){\n  return new Date(y.ask_date_time) - new Date(x.ask_date_time);\n}\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}